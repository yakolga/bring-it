(()=>{"use strict";class e{constructor({container:e=null,btns:t=null,next:s=null,prev:i=null,activeClass:l="",animate:n=!1,autoplay:a=!1}={}){this.container=document.querySelector(e),this.btns=document.querySelectorAll(t);try{this.slides=this.container.children}catch(e){}this.slideIndex=1,this.next=document.querySelector(s),this.prev=document.querySelector(i),this.activeClass=l,this.animate=n,this.autoplay=a}}class t extends e{constructor(e){super(e)}showSlides(e){e>this.slides.length&&(this.slideIndex=1),e<1&&(this.slideIndex=this.slides.length);try{this.hanson.style.opacity="0",3===e?(this.hanson.classList.add("animated"),setTimeout(()=>{this.hanson.style.opacity="1",this.hanson.classList.add("slideInUp")},3e3)):this.hanson.classList.remove("slideInUp")}catch(e){}Array.from(this.slides).forEach(e=>{e.style.display="none"}),Array.from(this.slides)[this.slideIndex-1].style.display="block"}plusSlides(e){this.showSlides(this.slideIndex+=e)}bindTriggers(){this.btns.forEach(e=>{e.addEventListener("click",()=>{this.plusSlides(1)}),e.parentNode.previousElementSibling.addEventListener("click",e=>{e.preventDefault(),this.slideIndex=1,this.showSlides(this.slideIndex)})}),document.querySelectorAll(".prevmodule").forEach(e=>{e.addEventListener("click",e=>{this.plusSlides(-1)})})}render(){if(this.container){try{this.hanson=document.querySelector(".hanson")}catch(e){}this.showSlides(this.slideIndex),this.bindTriggers()}}}class s extends e{constructor(e,t,s,i,l,n,a){super(e,t,s,i,l,n,a),this.filteredSlide=[],this.autoPlaySlider=null}filterSlide(){this.filteredSlides=Array.from(this.slides).filter(e=>"BUTTON"!==e.tagName)}decorateSlides(){this.filteredSlides.forEach(e=>{e.classList.remove(this.activeClass),this.animate&&(e.querySelector(".card__title").style.opacity="0.4",e.querySelector(".card__controls-arrow").style.opacity="0")}),this.filteredSlides[0].classList.add(this.activeClass),this.animate&&(this.filteredSlides[0].querySelector(".card__title").style.opacity="1",this.filteredSlides[0].querySelector(".card__controls-arrow").style.opacity="1")}nextSlide(){this.container.appendChild(this.filteredSlides[0]),this.filterSlide(),this.decorateSlides()}autoPlayOn(e){e.addEventListener("mouseenter",()=>{clearInterval(this.autoPlaySlider)})}autoPlayOff(e){e.addEventListener("mouseleave",()=>{this.autoPlaySlider=setInterval(()=>this.nextSlide(),5e3)})}bindTriggers(){this.prev.addEventListener("click",()=>{let e=this.filteredSlides[this.filteredSlides.length-1];this.container.insertBefore(e,this.filteredSlides[0]),this.filterSlide(),this.decorateSlides()}),this.next.addEventListener("click",()=>{this.nextSlide()}),this.autoplay&&(this.autoPlaySlider=setInterval(()=>this.nextSlide(),5e3),this.autoPlayOff(this.container),this.autoPlayOn(this.container),this.autoPlayOff(this.next),this.autoPlayOn(this.next),this.autoPlayOff(this.prev),this.autoPlayOn(this.prev))}init(){try{this.container.style.cssText="\n                display: flex;\n                flex-wrap: wrap;\n                overflow: hidden;\n                align-items: flex-start;\n            ",this.filterSlide(),this.bindTriggers(),this.decorateSlides()}catch(e){}}}class i{constructor(e,t){this.btns=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close"),this.onPlayerStateChange=this.onPlayerStateChange.bind(this)}bindTriggers(){this.btns.forEach((e,t)=>{try{const s=e.closest(".module__video-item").nextElementSibling;t%2==0&&s.setAttribute("data-disabled","true")}catch(e){}e.addEventListener("click",()=>{e.closest(".module__video-item")&&"true"===e.closest(".module__video-item").getAttribute("data-disabled")||(this.activeBtn=e,document.querySelector("iframe#frame")?(this.overlay.style.display="flex",this.url!==e.getAttribute("data-url")&&(this.url=e.getAttribute("data-url"),this.player.loadVideoById({videoId:this.url}))):(this.url=e.getAttribute("data-url"),this.createPlayer(this.url)))})})}createPlayer(e){this.player=new YT.Player("frame",{height:"360",width:"640",videoId:e,events:{onStateChange:this.onPlayerStateChange}}),this.overlay.style.display="flex"}onPlayerStateChange(e){try{const t=this.activeBtn.closest(".module__video-item").nextElementSibling,s=this.activeBtn.querySelector("svg").cloneNode(!0);0===e.data&&t.querySelector(".play__circle").classList.contains("closed")&&(t.querySelector(".play__circle").classList.remove("closed"),t.querySelector("svg").remove(),t.querySelector(".play__circle").appendChild(s),t.querySelector(".play__text").textContent="play video",t.querySelector(".play__text").classList.remove("attention"),t.style.opacity="1",t.style.filter="none",t.setAttribute("data-disabled","false"))}catch(e){}}closePlayer(){this.close.addEventListener("click",()=>{this.overlay.style.display="none",this.player.stopVideo()}),this.overlay.addEventListener("click",e=>{e.target===this.overlay&&(this.overlay.style.display="none",this.player.stopVideo())})}play(){if(this.btns.length>0){const e=document.createElement("script");e.id="iframe-demo",e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.bindTriggers(),this.closePlayer()}}}class l{constructor(e,t){try{this.container=document.querySelector(e),this.items=this.container.querySelectorAll(t),this.counter=0}catch(e){}}hideAllItems(){this.items.forEach(e=>{e.style.display="none"}),this.items[this.items.length-1].style.display="flex"}bindTriggers(){this.items[this.items.length-1].addEventListener("click",()=>{this.items[this.counter].classList.add("animated","fadeIn"),this.items[this.counter].style.display="flex",this.counter++,this.counter===this.items.length-1&&this.items[this.items.length-1].remove()})}render(){try{this.hideAllItems(),this.bindTriggers()}catch(e){}}}class n{constructor(e){this.forms=document.querySelectorAll(e),this.inputs=document.querySelectorAll("input"),this.message={loading:"Loading...",success:"Thanks! We will contact you as soon as possible",failure:"Something went wrong..."},this.path="assets/question.php"}async postData(e,t){let s=await fetch(e,{method:"POST",body:t});return await s.text()}checkInputs(){document.querySelectorAll('[type="email"]').forEach(e=>{e.addEventListener("keypress",function(e){e.key.match(/[^a-z 0-9 @ \.]/gi)&&e.preventDefault()})})}phoneMask(){function e(e){let t="+1 (___) ___-____",s=0,i=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");i.length>=l.length&&(l=i),this.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&s<l.length?l.charAt(s++):s>=l.length?"":e}),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let s=t.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}})(this.value.length,this)}document.querySelectorAll('[name="phone"]').forEach(t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e)})}clearInputs(){this.inputs.forEach(e=>{e.value=""})}init(){this.checkInputs(),this.phoneMask(),this.forms.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();let s=document.createElement("div");s.style.cssText="\n                    margin-top: 15px;\n                    font-size: 18px;\n                    color: grey;\n                ",e.parentNode.appendChild(s),s.textContent=this.message.loading;const i=new FormData(e);this.postData(this.path,i).then(e=>{console.log(e),s.textContent=this.message.success}).catch(()=>{s.textContent=this.message.failure}).finally(()=>{this.clearInputs(),setTimeout(()=>{s.remove()},6e3)})})})}}class a{constructor(e,t){this.btns=document.querySelectorAll(e),this.msgs=document.querySelector(t)}bindTriggers(){this.btns.forEach(e=>{e.addEventListener("click",()=>{this.msgs.classList.toggle("msg"),this.msgs.style.marginTop="20px"})})}init(){this.bindTriggers()}}class r{constructor(e){this.btns=document.querySelectorAll(e),this.path="assets/img/mainbg.jpg"}downloadItem(e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","image"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}init(){this.btns.forEach(e=>{e.addEventListener("click",()=>{this.downloadItem(this.path)})})}}window.addEventListener("DOMContentLoaded",()=>{new t({container:".page",btns:".next"}).render(),new t({container:".moduleapp",btns:".next"}).render(),new i(".showup .play",".overlay").play(),new i(".module__video-item .play",".overlay").play(),new s({container:".showup__content-slider",next:".showup__next",prev:".showup__prev",activeClass:"card-active",animate:!0,autoplay:!0}).init(),new s({container:".modules__content-slider",next:".modules__info-btns .slick-next",prev:".modules__info-btns .slick-prev",activeClass:"card-active",animate:!0,autoplay:!0}).init(),new s({container:".feed__slider",next:".feed__slider .slick-next",prev:".feed__slider .slick-prev",activeClass:"feed__item-active",autoplay:!0}).init(),new l(".officerold",".officer__card-item").render(),new l(".officernew",".officer__card-item").render(),new n("form").init(),new a(".module__info-show",".msg").init(),new r(".download").init()})})();